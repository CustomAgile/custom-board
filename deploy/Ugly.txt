<!DOCTYPE html>
<html>
<head>
    <title>custom-board-1.2.6</title>
    <!--  (c) 2017 CA Technologies.  All Rights Reserved. -->
    <!--  Build Date: Wed Nov 14 2018 22:11:54 GMT+0000 (UTC) -->

    <script type="text/javascript">
        var APP_BUILD_DATE = "Wed Nov 14 2018 22:11:54 GMT+0000 (UTC)";
        var CHECKSUM = 28227625803;
    </script>

    <script type="text/javascript" src="/apps/2.1/sdk.js"></script>
    <!-- our highcharts (needed so that we can add patterns)
    <script type="text/javascript" src="/apps/2.1/lib/analytics/analytics-all.js"></script>
    -->


    <script type="text/javascript">
        Rally.onReady(function() {
            Ext.define("Utils.AncestorPiAppFilter",{alias:"plugin.UtilsAncestorPiAppFilter",mixins:["Ext.AbstractPlugin","Rally.Messageable"],extend:"Ext.Component",statics:{RENDER_AREA_ID:"utils-ancestor-pi-app-filter"},config:{renderAreaId:"utils-ancestor-pi-app-filter",publisher:!1,allowNoEntry:!0,settingsConfig:{},ancestorLabel:"With ancestor",ancestorLabelWidth:110,ownerLabel:"and owned by",ownerOnlyLabel:"Owned by",ownerLabelWidth:110,labelStyle:"font-size: medium",singleRowMinWidth:840},portfolioItemTypes:[],readyDeferred:null,piTypesDeferred:null,isSubscriber:!1,changeSubscribers:[],publishedValue:{},constructor:function(a){this.callParent(arguments),this._setupPubSub(),Ext.tip.QuickTipManager.init()},initComponent:function(){this.callParent(arguments),this.addEvents("ready","select")},init:function(a){this.cmp=a,this.cmp.on("resize",this._onCmpResize,this),this.renderArea=this.cmp.down("#"+this.renderAreaId);var b=this.cmp.getSettingsFields;this.cmp.getSettingsFields=function(){return this._getSettingsFields(b.apply(a,arguments))}.bind(this);var c=this.cmp.defaultSettings;c["Utils.AncestorPiAppFilter.enableAncestorPiFilter2"]=!1,c["Utils.AncestorPiAppFilter.projectScope"]="current",this.cmp.setDefaultSettings(c),this._addControlCmp().then({scope:this,success:function(){this._setReady()}})},notifySubscribers:function(){var a=this._getValue();_.each(this.changeSubscribers,function(b){this.publish(b,a)},this)},getFilterForType:function(a){var b,c=a.toLowerCase(),d=this._getValue();if(d.piTypePath){var e=d.piTypePath,f=d.isPiSelected,g=d.pi,h=this._piTypeAncestors(c,e);if(f&&null!=g&&null!=h){var i;i=this._propertyPrefix(c,h),i&&(b=new Rally.data.wsapi.Filter({property:i,value:g}))}else null!=g&&(b=new Rally.data.wsapi.Filter({property:"ObjectID",value:0}))}return b},getIgnoreProjectScope:function(){return this._getValue().ignoreProjectScope},_setupPubSub:function(){this.publisher?(this.subscribe(this,"registerChangeSubscriber",function(a){_.contains(this.changeSubscribers,a)||this.changeSubscribers.push(a),this.publish(a,this._getValue())},this),this.publish("reRegisterChangeSubscriber")):(this.subscriberEventName=Rally.getApp().getAppId()+this.$className,this.subscribe(this,this.subscriberEventName,function(a){this.intervalTimer&&(clearInterval(this.intervalTimer),delete this.intervalTimer),this.isSubscriber||(this.isSubscriber=!0,this._hideControlCmp()),this.publishedValue=a,this._onSelect()},this),this.publish("registerChangeSubscriber",this.subscriberEventName),this.intervalTimer=setInterval(function(){this.publish("registerChangeSubscriber",this.subscriberEventName)}.bind(this),500),this.subscribe(this,"reRegisterChangeSubscriber",function(){this.publish("registerChangeSubscriber",this.subscriberEventName)},this))},_getValue:function(){var a={};if(this._isSubscriber())a=this.publishedValue||{};else{if(this.piTypeSelector){var b=this.piTypeSelector.getRecord();if(b){var c=b.get("TypePath"),d=this.piSelector.getRecord(),e=this.piSelector.getValue();_.merge(a,{piTypePath:c,isPiSelected:!!d,pi:e})}}a.ignoreProjectScope=this._ignoreProjectScope()}return a},_setReady:function(){this.ready=!0,this.fireEvent("ready",this)},_onSelect:function(){this.ready&&this.fireEvent("select",this)},_getSettingsFields:function(a){var b=Rally.getApp().getSettings(),c=[{xtype:"rallycheckboxfield",id:"Utils.AncestorPiAppFilter.enableAncestorPiFilter2",name:"Utils.AncestorPiAppFilter.enableAncestorPiFilter2",fieldLabel:"Filter artifacts by ancestor portfolio item"},{xtype:"radiogroup",fieldLabel:"Show artifacts from",columns:1,vertical:!0,allowBlank:!1,items:[{boxLabel:"User's current project(s).",name:"Utils.AncestorPiAppFilter.projectScope",inputValue:"current",checked:"current"===b["Utils.AncestorPiAppFilter.projectScope"]},{boxLabel:"All projects in workspace.",name:"Utils.AncestorPiAppFilter.projectScope",inputValue:"workspace",checked:"workspace"===b["Utils.AncestorPiAppFilter.projectScope"]},{boxLabel:"User selectable (either current project(s) or all projects in workspace).",name:"Utils.AncestorPiAppFilter.projectScope",inputValue:"user",checked:"user"===b["Utils.AncestorPiAppFilter.projectScope"]}],listeners:{scope:this,change:function(a,b){}}}];return c=_.map(c,function(a){return _.merge(a,this.settingsConfig)},this),c.concat(a||[])},_addControlCmp:function(){var a=Ext.create("Deft.Deferred"),b={type:"hbox",align:"middle",defaultMargins:"0 10 0 0"},c=this.ownerLabelWidth;this.cmp.getWidth()<this.singleRowMinWidth&&(b="vbox",c=this.ancestorLabelWidth);var d=!1;0==this._showAncestorFilter()&&1==this._showIgnoreProjectScopeControl()&&(d=!0);var e={xtype:"container",id:"controlsArea",overflowX:"auto",layout:{type:"hbox",align:"top"},items:[{xtype:"container",id:"pubSubIndicatorArea",width:25,padding:"6 5 0 0",hidden:!this.publisher&&!this._isSubscriber(),items:[{xtype:"component",id:"publisherIndicator",html:'<span class="icon-bullhorn icon-large"></span>',hidden:!this.publisher},{xtype:"component",id:"subscriberIndicator",html:'<span class="icon-link icon-large"></span>',hidden:!this._isSubscriber()}]},{xtype:"container",id:"filtersArea",layout:b,items:[{xtype:"container",id:"ancestorFilterArea",layout:{type:"hbox",align:"middle"},items:[{xtype:"container",id:"piTypeArea",layout:{type:"hbox",align:"middle"}},{xtype:"container",id:"piSelectorArea",layout:{type:"hbox",align:"middle",padding:"0 0 0 5"}}]},{xtype:"container",id:"scopeControlArea",width:250,layout:{type:"hbox",align:"middle"},items:[{xtype:"rallycombobox",id:"ignoreScopeControl",stateful:!0,stateId:this.cmp.getContext().getScopedStateId("Utils.AncestorPiAppFilter.ignoreProjectScopeControl"),stateEvents:["select"],hidden:this._isSubscriber()||!this._showIgnoreProjectScopeControl(),displayField:"text",valueField:"value",labelStyle:this.labelStyle,labelWidth:c,fieldLabel:d?this.ownerOnlyLabel:this.ownerLabel,storeConfig:{fields:["text","value"],data:[{text:"Current Project(s)",value:!1},{text:"Any Project",value:!0}]},listeners:{scope:this,change:function(a,b){this._onSelect()}}}]}]}]};return this.renderArea&&(this.renderArea.setOverflowXY("auto","auto"),this.renderArea.add(e)),this._addTooltips(),Rally.data.util.PortfolioItemHelper.getPortfolioItemTypes().then({scope:this,success:function(b){this.portfolioItemTypes=b,!this._isSubscriber()&&this._showAncestorFilter()?(this.piTypeSelector=Ext.create("Rally.ui.combobox.PortfolioItemTypeComboBox",{xtype:"rallyportfolioitemtypecombobox",id:"Utils.AncestorPiAppFilter.piType",name:"Utils.AncestorPiAppFilter.piType",width:250,stateful:!0,stateId:this.cmp.getContext().getScopedStateId("Utils.AncestorPiAppFilter.piType"),stateEvents:["select"],fieldLabel:this.ancestorLabel,labelWidth:this.ancestorLabelWidth,labelStyle:this.labelStyle,valueField:"TypePath",allowNoEntry:!1,defaultSelectionPosition:"first",listeners:{scope:this,ready:function(b){b.addListener({scope:this,change:this._onPiTypeChange}),this._addPiSelector(b.getValue()).then({scope:this,success:function(){a.resolve()}})}}}),this.renderArea.down("#piTypeArea").add(this.piTypeSelector)):a.resolve()}}),a.promise},_addTooltips:function(){Ext.tip.QuickTipManager.register({target:"publisherIndicator",text:'This app broadcasts filter settings to any enabled ancestor filtered apps (indicated with <span class="icon-link icon-large"></span>)',showDelay:50,border:!0}),Ext.tip.QuickTipManager.register({target:"subscriberIndicator",text:'This app listens for filter settings from any enabled ancestor filter broadcast app (indicated with <span class="icon-bullhorn icon-large"></span>)',showDelay:50,border:!0})},_onCmpResize:function(a,b){var c={type:"hbox",align:"middle",defaultMargins:"0 10 0 0"};b<this.singleRowMinWidth&&(c={type:"vbox"});var d=this.renderArea.down("#filtersArea");if(d){var e=this.renderArea.down("#controlsArea"),f=d.removeAll(!1),g={xtype:"container",id:"filtersArea",layout:c,items:f,hidden:d.isHidden()};e.remove(d,!1),e.add(g)}},_hideControlCmp:function(){this.renderArea&&(this.renderArea.down("#pubSubIndicatorArea").show(),this.renderArea.down("#subscriberIndicator").show(),this.renderArea.down("#filtersArea").hide())},_onPiTypeChange:function(a,b,c){b&&(this._removePiSelector(),this._addPiSelector(b).then({scope:this,success:function(){this._setReady()}}))},_removePiSelector:function(){this.renderArea.down("#piSelectorArea").removeAll()},_addPiSelector:function(a){var b=Ext.create("Deft.Deferred");return this.piSelector=Ext.create("Rally.ui.combobox.ArtifactSearchComboBox",{id:"Utils.AncestorPiAppFilter.piSelector",width:250,labelAlign:"top",storeConfig:{models:a,autoLoad:!0,context:{project:null}},stateful:!0,stateId:this.cmp.getContext().getScopedStateId("Utils.AncestorPiAppFilter.piSelector"),stateEvents:["select"],valueField:"_ref",allowClear:!0,clearValue:null,allowNoEntry:this.allowNoEntry,noEntryValue:"",defaultSelectionPosition:null,listeners:{scope:this,select:function(a,b){this._onSelect()},ready:function(a,c){b.resolve()}}}),Ext.override(this.piSelector,{saveState:function(){var a,b=this,c=b.stateful&&b.getStateId(),d=b.hasListeners;c&&(a=b.getState()||{},d.beforestatesave&&b.fireEvent("beforestatesave",b,a)===!1||(Ext.state.Manager.set(c,a),d.statesave&&b.fireEvent("statesave",b,a)))}}),this.renderArea.down("#piSelectorArea").add(this.piSelector),b.promise},_showAncestorFilter:function(){return this.cmp.getSetting("Utils.AncestorPiAppFilter.enableAncestorPiFilter2")},_showIgnoreProjectScopeControl:function(){return"user"==this.cmp.getSetting("Utils.AncestorPiAppFilter.projectScope")},_ignoreProjectScope:function(){var a=!1;return this._showIgnoreProjectScopeControl()?a=this.renderArea.down("#ignoreScopeControl").getValue():"workspace"==this.cmp.getSetting("Utils.AncestorPiAppFilter.projectScope")&&(a=!0),a},_isSubscriber:function(){return this.isSubscriber},_propertyPrefix:function(a,b){var c;return"hierarchicalrequirement"===a||"userstory"===a?c=b[0].get("Name"):"defect"===a?c="Requirement."+b[0].get("Name"):a.startsWith("portfolioitem")&&(c="Parent"),c&&_.forEach(b.slice(1),function(a){c+=".Parent"},this),c},_piTypeAncestors:function(a,b){var c,d,e=null;return _.contains(["hierarchicalrequirement","userstory","defect"],a)?(c=_.findIndex(this.portfolioItemTypes,function(a){return a.get("TypePath").toLowerCase()===b.toLowerCase()}),e=this.portfolioItemTypes.slice(0,c+1)):a.startsWith("portfolioitem")&&(d=_.findIndex(this.portfolioItemTypes,function(b){return b.get("TypePath").toLowerCase()===a.toLowerCase()}),c=_.findIndex(this.portfolioItemTypes,function(a){return a.get("TypePath").toLowerCase()===b.toLowerCase()}),c>d&&(e=this.portfolioItemTypes.slice(d+1,c+1))),e}}),Rally.ui.renderer.GridEditorFactory.editorRenderers.PreliminaryEstimate=function(a){return{xtype:"rallyrecordcontexteditor",field:{xtype:"rallycombobox",allowNoEntry:!a.required,editable:!1,name:a.name,storeConfig:{autoLoad:!0,model:a.name,remoteFilter:!0,sorters:[{property:"Value"}],listeners:{load:function(){}}}}}},Ext.define("Utils.AncestorPiInlineFilter",{override:"Rally.ui.inlinefilter.QuickFilterPanel",portfolioItemTypes:[],modelName:void 0,customFilterNamePrefix:"AncestorPiInlineFilter.",_hasPiAncestor:function(a){return _.contains(["hierarchicalrequirement","userstory","defect"],a)||a.startsWith("portfolioitem")},_pisAbove:function(a){var b=[];if(_.contains(["hierarchicalrequirement","userstory","defect"],a))b=this.portfolioItemTypes;else if(a.startsWith("portfolioitem")){var c=_.findIndex(this.portfolioItemTypes,function(b){return b.get("TypePath").toLowerCase()===a});c>=0&&c<this.portfolioItemTypes.length-1&&(b=this.portfolioItemTypes.slice(c+1))}return b},initComponent:function(){this.modelName&&(this.modelName=this.modelName.toLowerCase());var a={},b=[];if(this._hasPiAncestor(this.modelName)){var c=this._pisAbove(this.modelName);_.each(c,function(d){var e=d.get("TypePath"),f=this.customFilterNamePrefix+e,g="Portfolio Item / "+d.get("Name");a[f]={xtype:"ancestorpisearchcombobox",portfolioItemType:e,piTypesAbove:c,artifactTypeName:this.modelName,storeConfig:{models:e,autoLoad:!0},allowNoEntry:!0,noEntryValue:null,noEntryText:"No "+g,emptyText:"Search "+g+"s...",allowClear:!1,valueField:"ObjectUUID"},b.push({name:f,displayName:g})},this),_.merge(this.addQuickFilterConfig,{additionalFields:b},function(a,b){return _.isArray(a)?_.uniq(a.concat(b),"name"):void 0}),Ext.override(Rally.ui.inlinefilter.FilterFieldFactory,a)}this.callParent(arguments)},_createFields:function(){this.fields=_.filter(this.fields,function(a){return this._filterInvalidAncestorFilters(a)},this),this.initialFilters=_.filter(this.initialFilters,function(a){return this._filterInvalidAncestorFilters(a.name)},this),this.callParent(arguments)},_filterInvalidAncestorFilters:function(a){return!a.startsWith(this.customFilterNamePrefix)||Rally.ui.inlinefilter.FilterFieldFactory.hasOwnProperty(a)}}),Ext.define("Utils.AncestorPiSearchComboBox",{alias:"widget.ancestorpisearchcombobox",extend:"Rally.ui.combobox.ArtifactSearchComboBox",parentField:"PortfolioItem.Parent.",artifactTypeName:void 0,piTypesAbove:[],statics:{UUID_REGEX:/([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12})/},initComponent:function(){this.storeConfig.filters=[{property:this.valueField,value:this.value}],this.storeConfig.filters=[],this.callParent(arguments)},getFilter:function(){var a=this.lastValue,b=this.propertyPrefix(),c=[];return a&&this.statics().UUID_REGEX.test(a)?c.push({property:b+".ObjectUUID",value:a}):c.push({property:b,value:null}),Rally.data.wsapi.Filter.or(c)},propertyPrefix:function(){var a;return"hierarchicalrequirement"===this.artifactTypeName||"userstory"===this.artifactTypeName?a=this.piTypesAbove[0].get("Name"):"defect"===this.artifactTypeName?a="Requirement."+this.piTypesAbove[0].get("Name"):this.artifactTypeName.startsWith("portfolioitem")&&(a="Parent"),a&&_.forEach(this.piTypesAbove,function(b){return b.get("TypePath").toLowerCase()==this.portfolioItemType.toLowerCase()?!1:void(a+=".Parent")},this),a}}),function(){var a=window.Ext4||window.Ext;a.define("Rally.apps.common.RowSettingsField",{alias:"widget.rowsettingsfield",extend:"Ext.form.FieldContainer",requires:["Rally.ui.CheckboxField","Rally.ui.combobox.ComboBox","Rally.ui.plugin.FieldValidationUi","Rally.data.ModelFactory","Rally.data.wsapi.ModelBuilder"],mixins:{field:"Ext.form.field.Field"},layout:"hbox",cls:"row-settings",config:{value:void 0,isAllowedFieldFn:a.emptyFn,explicitFields:[],modelNames:["userstory","defect"],whiteListFields:[]},initComponent:function(){this.callParent(arguments),this.mixins.field.initField.call(this),this.add([{xtype:"rallycheckboxfield",name:"showRows",boxLabel:"",margin:"0",submitValue:!1,value:this.getValue().showRows,listeners:{change:function(a,b){this.down("rallycombobox").setDisabled(!b)},scope:this}},{xtype:"rallycombobox",plugins:["rallyfieldvalidationui"],name:"rowsField",margin:"0 6px",width:130,emptyText:"Choose Field...",displayField:"name",valueField:"value",disabled:"true"!==this.getValue().showRows,editable:!1,submitValue:!1,storeType:"Ext.data.Store",storeConfig:{remoteFilter:!1,fields:["name","value"],data:[]}}]),this._loadModels()},_loadModels:function(){Rally.data.ModelFactory.getModels({types:this.getModelNames(),context:this.context,success:this._onModelsRetrieved,scope:this})},_onModelsRetrieved:function(b){var c=_.uniq(a.Array.merge(this.explicitFields,this._getRowableFields(_.values(b))),"name"),d=this.down("rallycombobox");d.getStore().loadData(_.sortBy(c,"name")),d.setValue(this.getValue().rowsField),this.fireEvent("ready",this)},_getRowableFields:function(a){var b=Rally.data.wsapi.ModelBuilder.buildCompositeArtifact(a,this.context),c=b.getFields(),d=_.filter(c,function(c){var d=c.attributeDefinition;return d&&!d.Hidden&&d.Sortable&&(b.getModelsForField(c).length===a.length&&this.isAllowedFieldFn(c)||_.contains(this.whiteListFields,c.displayName))},this);return _.map(d,function(a){return{name:a.displayName,value:a.name}})},getSubmitData:function(){var a={},b=this.down("rallycheckboxfield"),c=this.down("rallycombobox"),d=b.getValue()&&!_.isEmpty(c.getValue());return a[b.name]=d,d&&(a[c.name]=c.getValue()),a},refreshWithNewModelType:function(a){this.setModelNames([a]),this._loadModels()}})}(),function(){var a=window.Ext4||window.Ext;a.define("Rally.apps.board.Settings",{singleton:!0,requires:["Rally.ui.combobox.FieldComboBox","Rally.ui.combobox.ComboBox","Rally.ui.TextField","Rally.ui.NumberField","Rally.apps.common.RowSettingsField","Rally.data.wsapi.Filter"],getFields:function(b){return[{name:"type",xtype:"rallycombobox",shouldRespondToScopeChange:!0,context:b.context,storeConfig:{model:a.identityFn("TypeDefinition"),sorters:[{property:"Name"}],fetch:["DisplayName","ElementName","TypePath","Parent"],filters:[{property:"Creatable",value:!0}],autoLoad:!1,remoteSort:!1,remoteFilter:!0},displayField:"DisplayName",valueField:"TypePath",listeners:{select:function(a,b){a.fireEvent("typeselected",b[0].get("TypePath"),a.context)},ready:function(a){a.store.sort("DisplayName"),a.store.filterBy(function(a){var b=a.get("Parent"),c=b.ElementName;return _.contains(["Artifact","SchedulableArtifact","Requirement","PortfolioItem"],c)}),a.fireEvent("typeselected",a.getRecord().get("TypePath"),a.context)}},bubbleEvents:["typeselected"],readyEvent:"ready",handlesEvents:{projectscopechanged:function(a){this.refreshWithNewContext(a)}}},{name:"groupByField",fieldLabel:"Columns",xtype:"rallyfieldcombobox",readyEvent:"ready",handlesEvents:{typeselected:function(a,b){this.refreshWithNewModelType(a,b)}},listeners:{ready:function(b){b.store.filterBy(function(a){var b=a.get("fieldDefinition"),c=b.attributeDefinition;return c&&!c.ReadOnly&&!c.Hidden&&c.Constrained&&"COLLECTION"!==c.AttributeType&&(!c.AllowedValueType||"User"!==c.AllowedValueType._refObjectName)&&!_.contains(["Iteration","Release","Project"],c.Name)&&!b.isMappedFromArtifact});var c=a.Array.map(b.store.getRange(),function(a){return a.get(b.getValueField())});a.Array.contains(c,b.getValue())||b.setValue(c[0])}}},{name:"groupHorizontallyByField",xtype:"rowsettingsfield",fieldLabel:"Swimlanes",mapsToMultiplePreferenceKeys:["showRows","rowsField"],readyEvent:"ready",isAllowedFieldFn:function(a){var b=a.attributeDefinition;return(b.Custom&&(b.Constrained||"string"!==b.AttributeType.toLowerCase())||b.Constrained||_.contains(["quantity","boolean"],b.AttributeType.toLowerCase())||!b.Constrained&&"object"===b.AttributeType.toLowerCase())&&!_.contains(["web_link","text","date"],b.AttributeType.toLowerCase())&&!_.contains(["PortfolioItemType","LastResult"],b.ElementName)},handlesEvents:{typeselected:function(a,b){this.refreshWithNewModelType(a,b)}}},{name:"order",fieldLabel:"Order",xtype:"rallyfieldcombobox",readyEvent:"ready",handlesEvents:{typeselected:function(a,b){this.refreshWithNewModelType(a,b)}},listeners:{ready:function(a){a.store.filterBy(function(a){var b=a.get("fieldDefinition"),c=b.attributeDefinition;return c&&c.Sortable&&!b.isMappedFromArtifact})}},initialValue:b.context.getWorkspace().WorkspaceConfiguration.DragDropRankingEnabled?"DragAndDropRank":"Rank"},{type:"query"}]}})}(),function(){var a=window.Ext4||window.Ext;a.define("Rally.apps.board.BoardApp",{extend:"Rally.app.App",alias:"widget.boardapp",requires:["Rally.ui.cardboard.plugin.FixedHeader","Rally.ui.gridboard.GridBoard","Rally.ui.gridboard.plugin.GridBoardAddNew","Rally.ui.gridboard.plugin.GridBoardInlineFilterControl","Rally.ui.gridboard.plugin.GridBoardFieldPicker","Rally.data.util.Sorter","Rally.apps.board.Settings","Rally.clientmetrics.ClientMetricsRecordable"],mixins:["Rally.clientmetrics.ClientMetricsRecordable"],helpId:287,cls:"customboard",autoScroll:!1,layout:{type:"vbox",align:"stretch"},items:[{id:Utils.AncestorPiAppFilter.RENDER_AREA_ID,xtype:"container",layout:{type:"hbox",align:"middle",defaultMargins:"0 10 10 0"}},{id:"grid-area",xtype:"container",flex:1,type:"vbox",align:"stretch"}],config:{defaultSettings:{type:"HierarchicalRequirement",groupByField:"ScheduleState",showRows:!1}},launch:function(){this.ancestorFilterPlugin=a.create("Utils.AncestorPiAppFilter",{ptype:"UtilsAncestorPiAppFilter",pluginId:"ancestorFilterPlugin",settingsConfig:{},listeners:{scope:this,ready:function(a){Rally.data.util.PortfolioItemHelper.getPortfolioItemTypes().then({scope:this,success:function(b){this.portfolioItemTypes=b,Rally.data.ModelFactory.getModel({type:this.getSetting("type"),context:this.getContext().getDataContext()}).then({success:function(b){a.addListener({scope:this,select:function(){this._addBoard()}}),this.model=b,this._addBoard()},scope:this})}})}}}),this.addPlugin(this.ancestorFilterPlugin)},onResize:function(){this.callParent(arguments);var a=this.down("#grid-area"),b=this.down("rallygridboard");a&&b&&b.setHeight(a.getHeight())},_getGridBoardConfig:function(){var a=this.getContext(),b=a.getDataContext();this.searchAllProjects()&&(b.project=null);var c=this.down("#grid-area"),d=[this.getSetting("type")],e=["Successors","Predecessors","DisplayColor"],f=["Milestones","Tags"],g={xtype:"rallygridboard",stateful:!1,toggleState:"board",height:c.getHeight(),cardBoardConfig:this._getBoardConfig(),plugins:[{ptype:"rallygridboardaddnew",addNewControlConfig:{stateful:!0,stateId:a.getScopedStateId("board-add-new")}},{ptype:"rallygridboardinlinefiltercontrol",inlineFilterButtonConfig:{stateful:!0,stateId:a.getScopedStateId("board-inline-filter"),modelNames:d,legacyStateIds:[a.getScopedStateId("board-owner-filter"),a.getScopedStateId("board-custom-filter-button")],filterChildren:!0,inlineFilterPanelConfig:{quickFilterPanelConfig:{portfolioItemTypes:this.portfolioItemTypes,modelName:d[0],defaultFields:["ArtifactSearch","Owner"],addQuickFilterConfig:{blackListFields:e,whiteListFields:f}},advancedFilterPanelConfig:{advancedFilterRowsConfig:{propertyFieldConfig:{blackListFields:e,whiteListFields:f}}}}}},{ptype:"rallygridboardfieldpicker",headerPosition:"left",boardFieldBlackList:e,modelNames:d}],context:a,modelNames:d,storeConfig:{filters:this._getFilters(),context:b},listeners:{load:this._onLoad,scope:this}};return this.getEl()&&(g.height=this.getHeight()),g},_onLoad:function(){this.recordComponentReady({miscData:{type:this.getSetting("type"),columns:this.getSetting("groupByField"),rows:this.getSetting("showRows")&&this.getSetting("rowsField")||""}})},_getBoardConfig:function(){var b={margin:"10px 0 0 0",attribute:this.getSetting("groupByField"),context:this.getContext(),cardConfig:{editable:!0,showIconMenus:!0},loadMask:!0,plugins:[{ptype:"rallyfixedheadercardboard"}],storeConfig:{sorters:Rally.data.util.Sorter.sorters(this.getSetting("order"))},columnConfig:{fields:this.getSetting("fields")&&this.getSetting("fields").split(",")||[],plugins:[{ptype:"rallycolumncardcounter"}]}};return this.getSetting("showRows")&&a.merge(b,{rowConfig:{field:this.getSetting("rowsField"),sortDirection:"ASC"}}),this._shouldDisableRanking()&&(b.enableRanking=!1,b.enableCrossColumnRanking=!1,b.cardConfig.showRankMenuItems=!1),b},getSettingsFields:function(){var a={context:this.getContext()};return Rally.apps.board.Settings.getFields(a)},_shouldDisableRanking:function(){return"task"===this.getSetting("type").toLowerCase()&&(!this.getSetting("showRows")||this.getSetting("showRows")&&"workproduct"!==this.getSetting("rowsField").toLowerCase())},_addBoard:function(){var a=this.down("#grid-area");a.removeAll(),a.add(this._getGridBoardConfig())},onTimeboxScopeChange:function(a){this.callParent(arguments),this._addBoard()},_getFilters:function(){var a=[],b=this.getContext().getTimeboxScope();this.getSetting("query")&&a.push(Rally.data.QueryFilter.fromQueryString(this.getSetting("query"))),b&&b.isApplicable(this.model)&&a.push(b.getQueryFilter());var c=this.ancestorFilterPlugin.getFilterForType(this.model.typePath);return c&&a.push(c),a},searchAllProjects:function(){return this.ancestorFilterPlugin.getIgnoreProjectScope()}})}();

               Rally.launchApp('Rally.apps.board.BoardApp', {
                   name: 'custom-board'
               });
        });
    </script>

    <style type="text/css">

.customboard {
    overflow-y: hidden;
}

    </style>

</head>
<body></body>
</html>